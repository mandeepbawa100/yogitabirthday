<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Yogita! üéÇ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Dancing+Script:wght@700&family=Caveat:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --pink: #ff8fab;
            --peach: #ffbd88;
            --glow: rgba(255, 255, 255, 0.8);
        }

        body {
            background: linear-gradient(135deg, #fff5f7 0%, #ffeadb 100%);
            color: #5d4037;
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            margin: 0;
        }

        /* Ambient Floating Hearts */
        .ambient-heart {
            position: fixed;
            color: var(--pink);
            opacity: 0.3;
            pointer-events: none;
            z-index: 0;
            animation: floatAmbient 10s infinite linear;
        }

        @keyframes floatAmbient {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 15px 45px rgba(255, 143, 171, 0.2);
            margin-top: 8vh;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 10;
            text-align: center;
        }

        h1 { font-family: 'Dancing Script', cursive; color: #d81b60; font-size: 3rem; text-shadow: 2px 2px 0 var(--glow); }

        .btn-custom {
            background: linear-gradient(45deg, var(--pink), var(--peach));
            border: none;
            color: white;
            font-weight: 600;
            padding: 15px 30px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 15px rgba(255, 143, 171, 0.3);
        }
        .btn-custom:hover { transform: translateY(-3px) scale(1.02); color: white; }

        /* --- BALLOON FIXES --- */
        .balloon {
            position: absolute;
            width: 65px; height: 80px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1050;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
            transition: transform 0.2s;
            bottom: -100px; /* Start below the screen */
        }
        
        @keyframes floatUp {
            0% { bottom: -100px; transform: translateX(0); }
            50% { transform: translateX(20px); }
            100% { bottom: 110vh; transform: translateX(-20px); }
        }

        /* Shake animation for wrong answers */
        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Cake Styles */
        .cake { position: relative; width: 160px; height: 120px; margin: 40px auto; display: none; }
        .layer { position: absolute; display: block; width: 100%; border-radius: 15px 15px 0 0; bottom: 0; animation: layerUp 0.8s ease forwards; }
        .layer-1 { height: 45px; width: 160px; background: #ff8fab; animation-delay: 0.2s; }
        .layer-2 { height: 40px; width: 120px; bottom: 45px; left: 20px; background: #ffb7b2; animation-delay: 0.6s; }
        .layer-3 { height: 35px; width: 80px; bottom: 85px; left: 40px; background: #fff; animation-delay: 1s; }
        @keyframes layerUp { from { transform: scale(0); } to { transform: scale(1); } }
        
        .candle { position: absolute; width: 10px; height: 30px; background: #ffd700; top: -30px; left: 75px; opacity: 0; animation: fadeIn 0.5s forwards 1.6s; }
        .flame { position: absolute; width: 10px; height: 15px; background: #ff4d4d; border-radius: 50%; top: -15px; animation: flicker 0.1s infinite alternate; }
        @keyframes flicker { from { transform: scale(1); } to { transform: scale(1.1); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .polaroid { background: white; padding: 15px 15px 40px 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transform: rotate(-3deg); margin: 20px auto; max-width: 250px; }
/* Container for the flip effect */
.flip-card {
    background-color: transparent;
    width: 100%;
    height: 200px;
    perspective: 1000px; /* Gives the 3D depth */
    cursor: pointer;
}

/* This inner box handles the actual rotation */
.flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.8s;
    transform-style: preserve-3d;
}

/* The class we will add via JavaScript to trigger the flip */
.is-flipped {
    transform: rotateY(180deg);
}

/* Front and Back side positioning */
.flip-card-front, .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden; /* Hide the back side when looking at front */
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
}

/* Front side (Placeholder) */
.flip-card-front {
    background: #ffe0e9;
    color: #d81b60;
    font-family: 'Caveat', cursive;
    font-size: 1.5rem;
}

/* Back side (The Image) */
.flip-card-back {
    background-color: #eee;
    transform: rotateY(180deg); /* Pre-rotated so it faces the right way after flip */
    overflow: hidden;
}

.flip-card-back img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
        #game-screen, #quiz-screen, #finale-screen, #timer-screen { display: none; }
    </style>
</head>
<body>

    <div id="ambient-container"></div>

    <div class="container">
        <div id="intro-screen" class="glass-card">
            <h1>Hey Yogita! ‚ú®</h1>
            <p class="lead">A beautiful soul deserves a beautiful surprise.</p>
           <div class="polaroid" onclick="flipPhoto()">
    <div class="flip-card">
        <div class="flip-card-inner" id="cardInner">
            <div class="flip-card-front">
                Tap for Vibe ‚ú®
            </div>
            <div class="flip-card-back">
                <img src="YOUR_IMAGE_LINK_HERE" alt="Birthday Girl">
            </div>
        </div>
    </div>
</div>
<p class="small text-muted mb-4">Round 1: Pop 10 balloons to continue!</p>
            <button class="btn btn-custom w-100" onclick="startBalloons()">Enter the Dreamworld</button>
        </div>

        <div id="game-screen">
            <h2 style="position:fixed; top:30px; left:0; right:0; z-index:2000; text-align:center; font-family: 'Caveat', cursive; font-size: 2.5rem;">
                Keep going! <span id="pop-count" style="color:#d81b60;">10</span> to go... üéà
            </h2>
        </div>

        <div id="timer-screen" class="glass-card">
            <h2 style="font-family: 'Caveat', cursive;">Round 1 Clear! üíñ</h2>
            <h1 id="timer-text" style="font-size: 6rem; font-family: 'Dancing Script';">3</h1>
        </div>

        <div id="quiz-screen" class="glass-card">
            <h6 style="letter-spacing: 3px; opacity: 0.6;">ROUND 2: MEMORIES</h6>
            <h2 id="question-text" class="mb-4" style="font-family: 'Caveat', cursive; font-size: 2.5rem;"></h2>
            <div id="input-area"></div>
            <div id="feedback-msg" class="mt-3 fw-bold text-danger"></div>
        </div>

        <div id="finale-screen" class="glass-card">
            <h1 class="display-4">Happy Birthday!</h1>
            <h2 style="letter-spacing: 5px; color: #ff8fab;">YOGITA</h2>
            
            <div class="cake" id="birthdayCake">
                <div class="layer layer-1"></div>
                <div class="layer layer-2"></div>
                <div class="layer layer-3"></div>
                <div class="candle"><div class="flame"></div></div>
            </div>

            <div class="card border-0 mt-4 shadow-sm" style="background: rgba(255,255,255,0.7);">
                <div class="card-body p-4 text-start" style="font-family: 'Caveat', cursive; font-size: 1.4rem;">
                    <p>Happy Birthday to the girl who knows all my secrets and still hasn't blocked me! üéÇ

Honestly, I was going to get you a really expensive gift, but then I remembered that having me as a best friend is already the greatest gift you could ever ask for. You‚Äôre welcome! üíÖ

On a real note, thank you for being the person I can call at 2 AM to talk about absolutely nothing. You have a heart of gold, and I‚Äôm so lucky to have you in my corner. Stay as crazy and amazing as you are. Love you to the moon and back, bestie! ‚ù§Ô∏è‚ú®</p>
                    <p class="text-end mb-0" style="color: #d81b60;"><b>- Your Bestie ‚ù§Ô∏è</b></p>
                </div>
            </div>
            <button class="btn btn-custom mt-4 w-100" onclick="fireworks()">Burst More Joy! üéÜ</button>
        </div>
    </div>

    <div class="modal fade" id="feedbackModal" data-bs-backdrop="static" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="border-radius: 25px;">
          <div class="modal-body text-center p-5">
            <h2 id="modalTitle" style="font-family: 'Dancing Script', cursive; color: #d81b60;"></h2>
            <p id="modalBody" class="lead mt-3"></p>
            <button type="button" class="btn btn-custom mt-3" data-bs-dismiss="modal" id="modalContinueBtn">Keep Going ‚ú®</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let pops = 0;
        const feedbackModal = new bootstrap.Modal(document.getElementById('feedbackModal'));

        function createAmbientHearts() {
            const container = document.getElementById('ambient-container');
            for(let i=0; i<15; i++) {
                let heart = document.createElement('div');
                heart.className = 'ambient-heart';
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDelay = Math.random() * 10 + 's';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                container.appendChild(heart);
            }
        }
        createAmbientHearts();


        function startBalloons() {
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            let interval = setInterval(() => {
                if(pops >= 10) { clearInterval(interval); return; }
                createBalloon();
            }, 700);
        }

        function createBalloon() {
            if(pops >= 10) return;
            let b = document.createElement('div');
            b.className = 'balloon';
            b.style.left = Math.random() * 85 + 'vw';
            const colors = ['#ff8fab', '#ffc1e3', '#ffdab9', '#ffbd88', '#fff'];
            b.style.background = colors[Math.floor(Math.random()*colors.length)];
            
            let duration = Math.random() * 3 + 4; 
            b.style.animation = `floatUp ${duration}s linear forwards`;
            
            const popAction = () => {
                b.remove();
                pops++;
                document.getElementById('pop-count').innerText = 10 - pops;
                if (pops === 10) { 
                    fireworks(); 
                    setTimeout(startTimerTransition, 1000);
                }
            };
            b.addEventListener('mousedown', popAction);
            document.body.appendChild(b);
        }

        function startTimerTransition() {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('timer-screen').style.display = 'block';
            let count = 3;
            let timerInterval = setInterval(() => {
                count--;
                if (count > 0) {
                    document.getElementById('timer-text').innerText = count;
                } else {
                    clearInterval(timerInterval);
                    startQuiz();
                }
            }, 1000);
        }

        function startQuiz() {
            document.getElementById('timer-screen').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';
            loadLevel1();
        }

        function loadLevel1() {
            document.getElementById('question-text').innerText = "Humari friendship kiss chapter ke explanation se hui? üìñ";
            document.getElementById('input-area').innerHTML = `
                <input type="number" id="ans1" class="form-control form-control-lg text-center mb-3" placeholder="Chapter Number">
                <button class="btn btn-custom w-100" onclick="checkLevel1()">Verify Memory</button>`;
        }

        function checkLevel1() {
            if(document.getElementById('ans1').value.trim() === "8") {
                showModal("Correct! üòç", "That <b>Reproduction</b> chapter! What a start to a lifetime of gossip. üòÇ", loadLevel2);
            } else { shakeCard(); }
        }

        function loadLevel2() {
            document.getElementById('question-text').innerText = "Teri kitni bestfriend hai? üëØ‚Äç‚ôÄÔ∏è";
            document.getElementById('input-area').innerHTML = `
                <button class="btn btn-outline-danger w-100 mb-2" onclick="checkLevel2()">Only 1 (You!)</button>
                <button class="btn btn-outline-danger w-100" onclick="alert('Try again, traitor! üòÇ')">3 Friends</button>`;
        }

        function checkLevel2() {
            showModal("Awww! ü•∞", "Right answer! I knew I was the favorite. üòé", loadLevel3);
        }

        function loadLevel3() {
            document.getElementById('question-text').innerText = "First letter of your first crush? ü§´";
            document.getElementById('input-area').innerHTML = `
                <input type="text" id="ans3" class="form-control form-control-lg text-center mb-3" maxlength="1">
                <button class="btn btn-custom w-100" onclick="checkLevel3()">Unlock Finale</button>`;
        }

        function checkLevel3() {
            if(document.getElementById('ans3').value.trim().toLowerCase() === 's') {
                showModal("Shhh! ü§´", "The secret is safe with me! Time for the main event...", startFinale);
            } else { shakeCard(); }
        }

        function startFinale() {
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('finale-screen').style.display = 'block';
            document.getElementById('birthdayCake').style.display = 'block';
            fireworks();
        }

        function fireworks() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }

        function shakeCard() {
            const card = document.querySelector('.glass-card:not([style*="display: none"])');
            card.classList.add('shake');
            setTimeout(() => card.classList.remove('shake'), 500);
            document.getElementById('feedback-msg').innerText = "Try again! ‚ú®";
        }

        function showModal(title, body, callback) {
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalBody').innerHTML = body;
            document.getElementById('modalContinueBtn').onclick = callback;
            feedbackModal.show();
        }
function flipPhoto() {
    const card = document.getElementById('cardInner');
    
    // Check if it's already flipped to prevent re-triggering confetti constantly
    if(!card.classList.contains('is-flipped')) {
        card.classList.add('is-flipped');
        
        // Celebrate the reveal with confetti!
        confetti({
            particleCount: 60,
            spread: 50,
            origin: { y: 0.8 },
            colors: ['#ff8fab', '#ffbd88']
        });
    }
}
    </script>
</body>
</html>